<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>AMPLink Control Panel</title>
<link href="/style.css" rel="stylesheet" type="text/css">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
<script>
  function myFunction() {
    // Get the snackbar DIV
    var x = document.getElementById("snackbar");
    x.className = "show";
    setTimeout(function(){ x.className = x.className.replace("show", ""); }, 3000);
  } 
</script>
</head>
<body>

<div class="sidenav">
  <img src="/resources/images/branding.png" alt="branding" width="200" height="80">
  <a href="/">Home</a>
  <a href="/panel">Server Control Panel&nbsp;</a>
  <a href="/console">Server Console</a>
  <a href="/players">Chat/Players</a>
  <a href="/grids">Grids/Entities</a>
  <a href="/users">Users</a>
  <a href="/about">About</a>
  <div class="brightercolor"><a href="#">Welcome, <b>{{#if message }}{{message}}{{/if}}</b><br><form action="/logout"><input type="submit" value="Logout" class="btn btn-danger"></form></a></div>
</div>
<main>

<div class="content">
  <h2>User Management</h2>
  <p class="subtitle2">Your Account</p>


<div class="col-xl-11 callout-info">

<ul class="nav nav-tabs" id="myTab" role="tablist">
  <li class="nav-item" role="presentation">
    <button class="nav-link active" id="account-tab" data-bs-toggle="tab" data-bs-target="#account" type="button" role="tab" aria-controls="account" aria-selected="true">Your Account</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="password-tab" data-bs-toggle="tab" data-bs-target="#password" type="button" role="tab" aria-controls="password" aria-selected="false">Password</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="users-tab" data-bs-toggle="tab" data-bs-target="#users" type="button" role="tab" aria-controls="users" aria-selected="false">Users</button>
  </li>
</ul>
<div class="tab-content" id="myTabContent">
  <div class="tab-pane fade show active" id="account" role="tabpanel" aria-labelledby="home-tab">
    <br><p>Your account</p>
    <div class="col-md-5 callout-secondary">
      
      <h2>{{username}}</h2>
      <p>{{is_superuser}}</p>
      <p>Id: {{userID}}</p>
    </div>
    
  </div>
  <div class="tab-pane fade" id="password" role="tabpanel" aria-labelledby="profile-tab">
    <br><p>Want to change your password? Enter the password reset form:</p>
    <div class="col-md-5 callout-secondary">
      <div class="card-body">
            <form action="/users/resetPassword" method="post">
            <div class="mb-3">
                <label for="currentPass" class="form-label">Current password:</label>
                <input type="password" class="form-control" id="currentPass" name="currentPass" required>
                <label for="newPass" class="form-label">New password:</label>
                <input type="password" class="form-control" id="newPass" name="password" required>
                <label for="confirmPass" class="form-label">Confirm New Password:</label>
                <input type="password" class="form-control" id="confirmPass" name="confirmPass" required><br>
                <button type="submit" class="btn btn-primary">Change password</button>
                </div>
                {{#if output }}
                <div style="margin: 5px;">
                  <p class="callout-success">{{output}}</p>
                </div>
                {{/if}}
            </form>  
            </div>
    </div>

  </div>
  <div class="tab-pane fade" id="users" role="tabpanel" aria-labelledby="contact-tab">
    <br><p>User Management</p>
    <div class="col-md-5 callout-secondary">
      <p>Enter the panel</p>
      <button onclick="location.href='/users/list/'" class="btn btn-primary" type="button">Add/Remove Panel users</button>
    </div>
    

  </div>
</div>



</div>

</div>
</div>
</div>

</main>
</body>
</html>